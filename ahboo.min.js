angular.module("youtube-embed",["ng"]).service("youtubeEmbedUtils",["$window","$rootScope",function(h,k){var e={},l=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*[^\w\s-])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/ig,a=/t=(\d+)[ms]?(\d+)?s?/;e.getIdFromURL=function(a){a=a.replace(l,"$1");if(-1<a.indexOf(";")){var b=a.split(";");a=-1<b[1].indexOf("%")?("http://youtube.com"+decodeURIComponent(a.split(";")[1])).replace(l,"$1"):b[0]}else-1<a.indexOf("#")&&
(a=a.split("#")[0]);return a};e.getTimeFromURL=function(g){var b=(g||"").match(a);if(!b)return 0;g=b[0];var f=b[1],b=b[2];"undefined"!==typeof b?(b=parseInt(b,10),f=parseInt(f,10)):-1<g.indexOf("m")?(f=parseInt(f,10),b=0):(b=parseInt(f,10),f=0);return b+60*f};(function(){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();e.ready=!1;h.onYouTubeIframeAPIReady=function(){k.$apply(function(){e.ready=
!0})};return e}]).directive("youtubeVideo",["youtubeEmbedUtils","$interval",function(h,k){var e=1,l={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"queued"};return{restrict:"EA",scope:{videoId:"=?",videoUrl:"=?",player:"=?",playerVars:"=?",playerHeight:"=?",playerWidth:"=?"},link:function(a,g,b){function f(){var d=Array.prototype.slice.call(arguments);a.$apply(function(){a.$emit.apply(a,d)})}function k(d){var c=l[d.data];"undefined"!==typeof c&&(console.log("youtube.player."+c),
f("youtube.player."+c,a.player,d));a.$apply(function(){a.player.currentState=c})}function p(a){return _.map(a,function(a){return a.videoId})}function t(d){a.player.abPlayerReady=!0;if(a.playerVars.customPlaylist){var c=p(a.playerVars.customPlaylist);a.player.cuePlaylist(c,0,0,"medium")}c=a.player;c.loadAndPlayPlaylist=u;c.loadAndPlaySong=q;c.loadAndPlaySongWithStartSecond=r;c.isShuffle=!1;c.isRepeat=!1;c.volume=50;a.player.setVolume(a.player.volume);f("youtube.player.ready",a.player,d)}function u(a){q(a,
0)}function q(a,c){r(a,c,0)}function r(d,c,b){d&&a.player.loadPlaylist&&"function"==typeof a.player.loadPlaylist&&(d=p(d.playlist),a.player.loadPlaylist(d,c,b,"medium"),a.playerJustLoaded=!0)}function m(){if(a.videoId||a.playerVars.list||a.playerVars.customPlaylist){a.player&&a.player.destroy&&"function"===typeof a.player.destroy&&a.player.destroy();var d=YT.Player,c=a.playerHeight,b=a.playerWidth,f=a.videoId,e=angular.copy(a.playerVars);e.controls=0;e.modestbranding=0;e.showinfo=0;e.start=e.start||
a.urlStartTime;d=new d(n,{height:c,width:b,videoId:f,playerVars:e,events:{onReady:t,onStateChange:k}});d.id=n;a.player=d}}a.utils=h;var n=b.playerId||g[0].id||"unique-youtube-embed-id-"+e++;g[0].id=n;a.playerHeight=a.playerHeight||390;a.playerWidth=a.playerWidth||640;a.playerVars=a.playerVars||{};a.$watch("player.isShuffle",function(b){a.player&&a.player.setShuffle&&"function"===typeof a.player.setShuffle&&a.player.setShuffle(b)});a.$watch("player.isRepeat",function(b){a.player&&a.player.setLoop&&
"function"===typeof a.player.setLoop&&a.player.setLoop(b)});a.$on("youtube.player.playing",function(b,c){!0===a.playerJustLoaded&&(a.playerJustLoaded=!1,a.player.setShuffle(a.player.isShuffle),a.player.setLoop(a.player.isRepeat))});var v=a.$watch(function(){return a.utils.ready&&("undefined"!==typeof a.videoUrl||"undefined"!==typeof a.videoId||"undefined"!==typeof a.playerVars.list||"undefined"!==typeof a.playerVars.customPlaylist)},function(b){b&&(v(),"undefined"!==typeof a.videoUrl?a.$watch("videoUrl",
function(b){a.videoId=a.utils.getIdFromURL(b);a.urlStartTime=a.utils.getTimeFromURL(b);m()}):"undefined"!==typeof a.videoId?a.$watch("videoId",function(){a.urlStartTime=null;m()}):a.$watch("playerVars.list",function(){a.urlStartTime=null;m()}))});a.$watchCollection(["playerHeight","playerWidth"],function(){a.player&&a.player.setSize(a.playerWidth,a.playerHeight)});a.$on("$destroy",function(){a.player&&a.player.destroy()})}}}]);angular.module("angularExperimentApp","ngAnimate ngCookies ngResource ngRoute ngSanitize ngTouch ui.bootstrap".split(" ")).config(function(h){h.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})});var isYoutubeDataApiLoaded=!1;function youtubeApiLoaded(){isYoutubeDataApiLoaded=!0}function init(){gapi.client.setApiKey("AIzaSyBBlFgiz5oTdChPIFKHQr5LStUhjJb5yTk");gapi.client.load("youtube","v3").then(youtubeApiLoaded);console.log("youtube data api loaded.")}"use strict";angular.module("ytApp","youtube-embed ab.services ab.directives ab.settings ngAnimate ui.bootstrap-slider ui.bootstrap".split(" "));angular.module("ab.services",[]);angular.module("ab.directives",[]);
angular.module("ab.settings",[]);var constants=angular.module("ab.settings",[]),appSettings={localStorageKey:{playlist:"ab.something.playlist"}};constants.constant("appSettings",appSettings);